# Convenience functions

This folder contains python scripts `run_get_positions.py`, `run_initialize_h5.py`, and `run_write_weights.py`, which call the functions `bluerecording.getPositions.getPositions()`, `bluerecording.writeH5_prelim.initializeH5File()`, and `bluerecording.writeH5.writeH5File()`, respectively, and bash scripts that demonstrate the command line arguments for these python scripts.

As `run_get_positions.py` and `run_initialize_h5.py` are straightforward (all command line arguments are mandatory), we will explain the command line arguments for `run_write_weights.h5`:

- The first 5 command line arguments, `$PATH_TO_SIMCONFIG $PATH_TO_POSITIONS_FOLDER $OUTPUT_FILE $NEURONS_PER_FILE $FILES_PER_FOLDER`, are mandatory. 
- The argument `$TISSUE_CONDUCTANCE` is optional. It is used if either of the analytic calculation methods (PointSource or LineSource) is used. If one of these methods are used and the `TISSUE_CONDUCTANCE` argument is not provided, the default value of 0.277 S/m will be used.
- The argument `$PATH_TO_EXTRACELLULAR_FIELDS` is mandantory if one of the reciprocity-based calculation methods (Reciprocity or DipoleReciprocity) is used. If one of these methods are used but `$PATH_TO_EXTRACELLULAR_FIELDS` is not provided, BlueRecording will throw an error. If neither of these methods are used but `$PATH_TO_EXTRACELLULAR_FIELDS` is provided, it will be ignored
- The argument `$OBJECTIVE_CSD_ARRAY_INDICES` is optional. This argument must be a string that begins with `objective_csd_array_indices `, followed by the indices of the electrodes in each array for which an objective CSD is calculated using the `ObjectiveCSD_Disk` or `ObjectiveCSD_Plane` methods, as described [here](https://github.com/BlueBrain/BlueRecording/blob/develop/ObjectiveCSD.md). This argument is used to permit BlueRecording to estimate disk thickness (if not specified in the electrode csv file) from the inter-electrode spacing in each array individually. If one of the aforementioned method is used and this argument is not provided, BlueRecording will (if a disk thickness is not specified in the electrode csv file) default to estimating the disk thickness from the average spacing between all electrodes.
